"use strict";(self.webpackChunkThe_Sea_Above=self.webpackChunkThe_Sea_Above||[]).push([[13],{13:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var s=n(43),r=n(984),l=n(35),i=n(579);const a=()=>{const e=(0,s.useContext)(l.W),t=(0,s.useRef)(),n=(0,s.useRef)(),[a,c]=(0,s.useState)({width:800,height:600}),[o,d]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[p,f]=(0,s.useState)({type:"",subtype:"",country:""});(0,s.useEffect)(()=>{const e=new ResizeObserver(e=>{if(!e.length)return;const{width:t,height:n}=e[0].contentRect;c({width:t,height:n})});return n.current&&e.observe(n.current),()=>e.disconnect()},[]);(0,s.useEffect)(()=>{let n=e;Object.entries(p).forEach(e=>{let[t,s]=e;s&&(n=n.filter(e=>e[t]===s))});const s=(e=>{const t={name:"root",children:[]};return e.forEach(e=>{const{type:n="unknown",subtype:s="unknown",country:r="unknown"}=e;let l=t.children.find(e=>e.name===n);l||(l={name:n,children:[]},t.children.push(l));let i=l.children.find(e=>e.name===s);i||(i={name:s,children:[]},l.children.push(i));let a=i.children.find(e=>e.name===r);a||(a={name:r,children:[]},i.children.push(a)),a.children.push({...e,value:1})}),t})(u?u.leaves().map(e=>e.data):n),l=r.Sk5(s).sum(e=>e.value||0).sort((e,t)=>t.value-e.value),{width:i,height:c}=a,o=r.Ltv(t.current);o.selectAll("*").remove();const h=r.m4Y().domain([0,5]).range(["#070707","#5F1E1E"]).interpolate(r.bEH),f=r.qqI().size([i,c-60]).padding(3)(l),y=o.append("g").attr("transform",`translate(${i/2},${c/2+30})`);let x,m=f;const j=y.append("g").selectAll("circle").data(f.descendants().slice(1)).join("circle").attr("fill",e=>e.children?h(e.depth):"#5F1E1E").attr("pointer-events",e=>e.children?null:"auto").on("mouseover",function(e,t){t.children||(r.Ltv(this).attr("stroke","#f0f0f0").attr("stroke-width",2),d(t.data))}).on("mouseout",function(){r.Ltv(this).attr("stroke",null),d(null)}).on("click",(e,t)=>{m!==t&&t.children&&(b(e,t),e.stopPropagation())}),v=y.append("g").style("font","10px sans-serif").attr("pointer-events","none").attr("text-anchor","middle").selectAll("text").data(f.descendants()).join("text").style("fill-opacity",e=>e.parent===f&&e.children?1:0).style("display",e=>e.parent===f&&e.children?"inline":"none").text(e=>e.data.name);function g(e){const t=i/e[2];x=e,v.attr("transform",n=>`translate(${(n.x-e[0])*t},${(n.y-e[1])*t})`),j.attr("transform",n=>`translate(${(n.x-e[0])*t},${(n.y-e[1])*t})`),j.attr("r",e=>e.r*t)}function b(e,t){const n=o.transition().duration(e.altKey?7500:750).tween("zoom",()=>{const e=r.p7(x,[t.x,t.y,2*t.r]);return t=>g(e(t))});v.filter(e=>e.parent===t&&e.children).transition(n).style("fill-opacity",1).on("start",function(){this.style.display="inline"}),v.filter(e=>e.parent!==t||!e.children).transition(n).style("fill-opacity",0).on("end",function(){this.style.display="none"}),m=t}o.on("click",e=>{b(e,f)}),g([m.x,m.y,3*m.r])},[e,u,p,a]);const y=t=>[...new Set(e.map(e=>e[t]||"unknown"))];return(0,i.jsxs)("div",{ref:n,className:"groups-container",children:[(0,i.jsxs)("div",{className:"filter-ui",children:[["type","subtype","country"].map(e=>(0,i.jsxs)("select",{value:p[e],onChange:t=>((e,t)=>{f(n=>({...n,[e]:t}))})(e,t.target.value),className:"filter-toggle-btn",children:[(0,i.jsx)("option",{value:"",children:e.toUpperCase()}),y(e).map(e=>(0,i.jsx)("option",{value:e,children:e},e))]},e)),(0,i.jsx)("button",{onClick:()=>{f({type:"",subtype:"",country:""}),h(null),d(null)},className:"filter-toggle-btn",children:"Reset"})]}),(0,i.jsx)("div",{className:"groups-visualization",children:(0,i.jsx)("svg",{ref:t,className:"groups-svg"})}),o&&(0,i.jsxs)("div",{className:"satellite-details",children:[(0,i.jsx)("h3",{children:"Object Details"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Name:"})," ",o.name]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Year:"})," ",o.year]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Type:"})," ",o.type]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Subtype:"})," ",o.subtype]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Country:"})," ",o.country]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Source:"})," ",o.source]})]})]})]})},c=()=>(0,i.jsx)("div",{children:(0,i.jsx)(a,{})})}}]);
//# sourceMappingURL=13.99cb8502.chunk.js.map